<!DOCTYPE html><html class="default"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>p2-es</title><meta name="description" content="Documentation for p2-es"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="assets/style.css"/><link rel="stylesheet" href="assets/highlight.css"/><link rel="stylesheet" href="assets/custom.css"/><script async src="assets/search.js" id="search-script"></script></head><body><script>document.body.classList.add(localStorage.getItem("tsd-theme") || "os")</script><header><div class="tsd-page-toolbar"><div class="container"><div class="table-wrap"><div class="table-cell" id="tsd-search" data-base="."><div class="field"><label for="tsd-search-field" class="tsd-widget search no-caption">Search</label><input type="text" id="tsd-search-field"/></div><ul class="results"><li class="state loading">Preparing search index...</li><li class="state failure">The search index is not available</li></ul><a href="index.html" class="title">p2-es</a></div><div class="table-cell" id="tsd-widgets"><div id="tsd-filter"><a href="#" class="tsd-widget options no-caption" data-toggle="options">Options</a><div class="tsd-filter-group"><div class="tsd-select" id="tsd-filter-visibility"><span class="tsd-select-label">All</span><ul class="tsd-select-list"><li data-value="public">Public</li><li data-value="protected">Public/Protected</li><li data-value="private" class="selected">All</li></ul></div> <input type="checkbox" id="tsd-filter-inherited" checked/><label class="tsd-widget" for="tsd-filter-inherited">Inherited</label></div></div><a href="#" class="tsd-widget menu no-caption" data-toggle="menu">Menu</a></div></div></div></div><div class="tsd-page-title"><div class="container"><h1>p2-es </h1></div></div></header><div class="container container-main"><div class="row"><div class="col-8 col-content"><div class="tsd-panel tsd-typography"><p><code>p2-es</code> is a 2D rigid body physics engine written in JavaScript. Includes collision detection, contacts, friction, restitution, motors, springs, advanced constraints and various shape types.</p>
<p><strong>Usage with NPM</strong></p>
<pre><code class="language-ts"><span class="hl-0">yarn</span><span class="hl-1"> </span><span class="hl-0">add</span><span class="hl-1"> </span><span class="hl-0">p2</span><span class="hl-1">-</span><span class="hl-0">es</span>
</code></pre>
<p><strong>CDN</strong></p>
<p>You can also import the esm bundle with unpkg:</p>
<pre><code class="language-html"><span class="hl-2">&lt;</span><span class="hl-3">script</span><span class="hl-4"> </span><span class="hl-5">type</span><span class="hl-4">=</span><span class="hl-6">&quot;module&quot;</span><span class="hl-2">&gt;</span><br/><span class="hl-4">    </span><span class="hl-7">// import a specific version</span><br/><span class="hl-4">    </span><span class="hl-8">import</span><span class="hl-4"> </span><span class="hl-9">*</span><span class="hl-4"> </span><span class="hl-8">as</span><span class="hl-4"> </span><span class="hl-0">p2</span><span class="hl-4"> </span><span class="hl-8">from</span><span class="hl-4"> </span><span class="hl-10">&#39;https://www.unpkg.com/browse/p2-es@1.1.0/dist/p2-es.js&#39;</span><span class="hl-4">;</span><br/><br/><span class="hl-4">    </span><span class="hl-7">// or import latest</span><br/><span class="hl-4">    </span><span class="hl-8">import</span><span class="hl-4"> </span><span class="hl-9">*</span><span class="hl-4"> </span><span class="hl-8">as</span><span class="hl-4"> </span><span class="hl-0">p2</span><span class="hl-4"> </span><span class="hl-8">from</span><span class="hl-4"> </span><span class="hl-10">&#39;https://www.unpkg.com/browse/p2-es/dist/p2-es.js&#39;</span><span class="hl-4">;</span><br/><span class="hl-2">&lt;/</span><span class="hl-3">script</span><span class="hl-2">&gt;</span>
</code></pre>
<hr>
<p>If you would like to use ordinary <code>Array</code> instead of <code>Float32Array</code>, define <code>P2_ARRAY_TYPE</code> globally before loading the library.</p>
<pre><code class="language-html"><span class="hl-2">&lt;</span><span class="hl-3">script</span><span class="hl-4"> </span><span class="hl-5">type</span><span class="hl-4">=</span><span class="hl-6">&quot;text/javascript&quot;</span><span class="hl-2">&gt;</span><span class="hl-11">P2_ARRAY_TYPE</span><span class="hl-4"> </span><span class="hl-1">=</span><span class="hl-4"> </span><span class="hl-12">Array</span><span class="hl-4">;</span><span class="hl-2">&lt;/</span><span class="hl-3">script</span><span class="hl-2">&gt;</span><br/><span class="hl-2">&lt;</span><span class="hl-3">script</span><span class="hl-4"> </span><span class="hl-5">type</span><span class="hl-4">=</span><span class="hl-6">&quot;module&quot;</span><span class="hl-2">&gt;</span><br/><span class="hl-4">    </span><span class="hl-8">import</span><span class="hl-4"> </span><span class="hl-9">*</span><span class="hl-4"> </span><span class="hl-8">as</span><span class="hl-4"> </span><span class="hl-0">p2</span><span class="hl-4"> </span><span class="hl-8">from</span><span class="hl-4"> </span><span class="hl-10">&#39;p2-es.js&#39;</span><span class="hl-4">;</span><br/><span class="hl-2">&lt;/</span><span class="hl-3">script</span><span class="hl-2">&gt;</span>
</code></pre>

<a href="#contents" id="contents" style="color: inherit; text-decoration: none;">
  <h2>Contents</h2>
</a>
<ul>
<li><a href="#core-concepts">Core concepts</a></li>
<li><a href="#hello-p2-es">Hello p2-es!</a></li>
<li><a href="#math">Math</a></li>
<li><a href="#collision">Collision</a></li>
<li><a href="#dynamics">Dynamics</a></li>
<li><a href="#shapes">Shapes</a></li>
<li><a href="#bodies">Bodies</a></li>
<li><a href="#constraints">Constraints</a></li>
<li><a href="#equations">Equations</a></li>
<li><a href="#events">Events</a></li>
<li><a href="#materials">Materials</a></li>
<li><a href="#world">World</a></li>
<li><a href="#solvers">Solvers</a></li>
<li><a href="#the-demo-framework">The Demo framework</a></li>
<li><a href="#limitations">Limitations</a></li>
<li><a href="#references">References</a></li>
</ul>
<p>Welcome to the p2-es manual. This manual is supposed to cover the things that the automatically generated documentation don&#39;t. It should cover the majority of the p2-es API from the latest release (see releases).</p>
<p>It&#39;s assumed that you are familiar with basic physics concepts, such as mass, force, torque, and impulses. If not, consult Google and/or Wikipedia. p2-es is written in JavaScript, and hence you are also expected to be experienced in JavaScript programming.</p>
<p>If you have questions or feedback, please create a new issue.</p>

<a href="#core-concepts" id="core-concepts" style="color: inherit; text-decoration: none;">
  <h2>Core concepts</h2>
</a>
<p><strong>Shape</strong> A geometrical shape, such as a sphere or a box.</p>
<p><strong>Rigid body</strong> A piece of matter that is assumed indefinitely stiff. Any two points in a rigid body are assumed to always be at a constant distance from each other. We may refer to a rigid body by just saying &quot;body&quot;. A rigid body has got a shape and a number of physical properties such as mass and inertia.</p>
<p><strong>Constraint</strong> A constraint is a physical connection that removes degrees of freedom from bodies. In 3D a body has 6 degrees of freedom (three translation coordinates and three rotation coordinates). In 2D, there are 3 (two translational and one rotational). If we take a 3D door and put it on a door hinge we have constrained the door body to the wall. At this point the body can only rotate about the door hinge, so the constraint has removed 5 degrees of freedom.</p>
<p><strong>Contact constraint</strong> A special constraint designed to prevent penetration of rigid bodies and to simulate friction and restitution. You do not create contact constraints; they are created automatically.</p>
<p><strong>World</strong> A physics world is a collection of bodies and constraints that interact together.</p>
<p><strong>Solver</strong> The physics world has a solver that is used to resolve constraints.</p>
<p><strong>Units</strong> A unit is a way of measuring quantities such as length and time. In p2-es, we use meters-kilogram-second (MKS) units, and radians are used for angles. Do not use pixels for units.</p>

<a href="#hello-p2-es" id="hello-p2-es" style="color: inherit; text-decoration: none;">
  <h2>Hello p2-es!</h2>
</a>
<p>Let&#39;s create a simple physics world, with a dynamic circle on a static plane. We begin with creating the world.</p>
<pre><code class="language-js"><span class="hl-9">var</span><span class="hl-1"> </span><span class="hl-0">world</span><span class="hl-1"> = </span><span class="hl-9">new</span><span class="hl-1"> </span><span class="hl-0">p2</span><span class="hl-1">.</span><span class="hl-13">World</span><span class="hl-1">({</span><br/><span class="hl-1">    </span><span class="hl-0">gravity:</span><span class="hl-1"> [</span><span class="hl-14">0</span><span class="hl-1">, -</span><span class="hl-14">9.82</span><span class="hl-1">],</span><br/><span class="hl-1">})</span>
</code></pre>
<p>This creates a World instance and sets gravity to 9.82 along the negative Y axis.</p>
<p>Now, let&#39;s create a circle body.</p>
<pre><code class="language-js"><span class="hl-9">var</span><span class="hl-1"> </span><span class="hl-0">circleBody</span><span class="hl-1"> = </span><span class="hl-9">new</span><span class="hl-1"> </span><span class="hl-0">p2</span><span class="hl-1">.</span><span class="hl-13">Body</span><span class="hl-1">({</span><br/><span class="hl-1">    </span><span class="hl-0">mass:</span><span class="hl-1"> </span><span class="hl-14">5</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-0">position:</span><span class="hl-1"> [</span><span class="hl-14">0</span><span class="hl-1">, </span><span class="hl-14">10</span><span class="hl-1">],</span><br/><span class="hl-1">})</span>
</code></pre>
<p>This will create an empty, 5-kilogram body at position x=0, y=10. To make it into a circle, we need to add a Shape to it.</p>
<pre><code class="language-js"><span class="hl-9">var</span><span class="hl-1"> </span><span class="hl-0">circleShape</span><span class="hl-1"> = </span><span class="hl-9">new</span><span class="hl-1"> </span><span class="hl-0">p2</span><span class="hl-1">.</span><span class="hl-13">Circle</span><span class="hl-1">({ </span><span class="hl-0">radius:</span><span class="hl-1"> </span><span class="hl-14">1</span><span class="hl-1"> })</span><br/><span class="hl-0">circleBody</span><span class="hl-1">.</span><span class="hl-13">addShape</span><span class="hl-1">(</span><span class="hl-0">circleShape</span><span class="hl-1">)</span>
</code></pre>
<p>Now we have created a body and added a circle shape to it. If you start the simulation now, the circle will start falling and never stop. Let&#39;s create a plane that it can rest on.</p>
<pre><code class="language-js"><span class="hl-9">var</span><span class="hl-1"> </span><span class="hl-0">groundShape</span><span class="hl-1"> = </span><span class="hl-9">new</span><span class="hl-1"> </span><span class="hl-0">p2</span><span class="hl-1">.</span><span class="hl-13">Plane</span><span class="hl-1">()</span><br/><span class="hl-9">var</span><span class="hl-1"> </span><span class="hl-0">groundBody</span><span class="hl-1"> = </span><span class="hl-9">new</span><span class="hl-1"> </span><span class="hl-0">p2</span><span class="hl-1">.</span><span class="hl-13">Body</span><span class="hl-1">({</span><br/><span class="hl-1">    </span><span class="hl-0">mass:</span><span class="hl-1"> </span><span class="hl-14">0</span><span class="hl-1">,</span><br/><span class="hl-1">})</span><br/><span class="hl-0">groundBody</span><span class="hl-1">.</span><span class="hl-13">addShape</span><span class="hl-1">(</span><span class="hl-0">groundShape</span><span class="hl-1">)</span>
</code></pre>
<p>By setting mass to zero, we tell the physics engine that the body should be static. By default, the position of a body is at the origin, which is fine for our Plane.</p>
<p>Before we can start our simulation, we must add our bodies to the world.</p>
<pre><code class="language-js"><span class="hl-0">world</span><span class="hl-1">.</span><span class="hl-13">addBody</span><span class="hl-1">(</span><span class="hl-0">circleBody</span><span class="hl-1">)</span><br/><span class="hl-0">world</span><span class="hl-1">.</span><span class="hl-13">addBody</span><span class="hl-1">(</span><span class="hl-0">groundBody</span><span class="hl-1">)</span>
</code></pre>
<p>Now we are ready to integrate the world.</p>
<pre><code class="language-js"><span class="hl-9">var</span><span class="hl-1"> </span><span class="hl-0">timeStep</span><span class="hl-1"> = </span><span class="hl-14">1</span><span class="hl-1"> / </span><span class="hl-14">60</span><br/><span class="hl-13">setInterval</span><span class="hl-1">(</span><span class="hl-9">function</span><span class="hl-1"> () {</span><br/><span class="hl-1">    </span><span class="hl-0">world</span><span class="hl-1">.</span><span class="hl-13">step</span><span class="hl-1">(</span><span class="hl-0">timeStep</span><span class="hl-1">)</span><br/><span class="hl-1">    </span><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-13">log</span><span class="hl-1">(</span><span class="hl-10">&#39;Circle x position: &#39;</span><span class="hl-1"> + </span><span class="hl-0">circleBody</span><span class="hl-1">.</span><span class="hl-0">position</span><span class="hl-1">[</span><span class="hl-14">0</span><span class="hl-1">])</span><br/><span class="hl-1">    </span><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-13">log</span><span class="hl-1">(</span><span class="hl-10">&#39;Circle y position: &#39;</span><span class="hl-1"> + </span><span class="hl-0">circleBody</span><span class="hl-1">.</span><span class="hl-0">position</span><span class="hl-1">[</span><span class="hl-14">1</span><span class="hl-1">])</span><br/><span class="hl-1">    </span><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-13">log</span><span class="hl-1">(</span><span class="hl-10">&#39;Circle angle: &#39;</span><span class="hl-1"> + </span><span class="hl-0">circleBody</span><span class="hl-1">.</span><span class="hl-0">angle</span><span class="hl-1">)</span><br/><span class="hl-1">}, </span><span class="hl-14">1000</span><span class="hl-1"> * </span><span class="hl-0">timeStep</span><span class="hl-1">)</span>
</code></pre>
<p>You will get the position and angle of the circle body printed to the console (no graphical output this time). The result might look something like this:</p>
<pre><code><span class="hl-0">Circle</span><span class="hl-1"> </span><span class="hl-0">x</span><span class="hl-1"> </span><span class="hl-15">position</span><span class="hl-1">: </span><span class="hl-14">0</span><br/><span class="hl-0">Circle</span><span class="hl-1"> </span><span class="hl-0">y</span><span class="hl-1"> </span><span class="hl-15">position</span><span class="hl-1">: </span><span class="hl-14">10</span><br/><span class="hl-0">Circle</span><span class="hl-1"> </span><span class="hl-15">angle</span><span class="hl-1">: </span><span class="hl-14">0</span><br/><span class="hl-0">Circle</span><span class="hl-1"> </span><span class="hl-0">x</span><span class="hl-1"> </span><span class="hl-15">position</span><span class="hl-1">: </span><span class="hl-14">0</span><br/><span class="hl-0">Circle</span><span class="hl-1"> </span><span class="hl-0">y</span><span class="hl-1"> </span><span class="hl-15">position</span><span class="hl-1">: </span><span class="hl-14">9</span><br/><span class="hl-0">Circle</span><span class="hl-1"> </span><span class="hl-15">angle</span><span class="hl-1">: </span><span class="hl-14">0</span><br/><span class="hl-1">...</span><br/><span class="hl-0">Circle</span><span class="hl-1"> </span><span class="hl-0">x</span><span class="hl-1"> </span><span class="hl-15">position</span><span class="hl-1">: </span><span class="hl-14">0</span><br/><span class="hl-0">Circle</span><span class="hl-1"> </span><span class="hl-0">y</span><span class="hl-1"> </span><span class="hl-15">position</span><span class="hl-1">: </span><span class="hl-14">0.5</span><br/><span class="hl-0">Circle</span><span class="hl-1"> </span><span class="hl-15">angle</span><span class="hl-1">: </span><span class="hl-14">0</span>
</code></pre>

<a href="#math" id="math" style="color: inherit; text-decoration: none;">
  <h2>Math</h2>
</a>
<p>p2-es uses an own, stripped version of the <a href="http://glmatrix.net/">glMatrix</a> math library. The p2 vector methods are documented <a href="https://pmndrs.github.io/p2-es/docs/modules/vec2.html">here</a>. The glMatrix math functions are exposed through the library, so you can use them like this:</p>
<pre><code class="language-ts"><span class="hl-9">var</span><span class="hl-1"> </span><span class="hl-0">force</span><span class="hl-1"> = </span><span class="hl-0">p2</span><span class="hl-1">.</span><span class="hl-0">vec2</span><span class="hl-1">.</span><span class="hl-13">fromValues</span><span class="hl-1">(</span><span class="hl-14">1</span><span class="hl-1">, </span><span class="hl-14">0</span><span class="hl-1">)</span><br/><span class="hl-0">p2</span><span class="hl-1">.</span><span class="hl-0">vec2</span><span class="hl-1">.</span><span class="hl-13">add</span><span class="hl-1">(</span><span class="hl-0">body</span><span class="hl-1">.</span><span class="hl-0">force</span><span class="hl-1">, </span><span class="hl-0">body</span><span class="hl-1">.</span><span class="hl-0">force</span><span class="hl-1">, </span><span class="hl-0">force</span><span class="hl-1">) </span><span class="hl-7">// body.force += force</span>
</code></pre>

<a href="#collision" id="collision" style="color: inherit; text-decoration: none;">
  <h2>Collision</h2>
</a>
<p>TODO</p>

<a href="#dynamics" id="dynamics" style="color: inherit; text-decoration: none;">
  <h2>Dynamics</h2>
</a>
<p>TODO</p>

<a href="#shapes" id="shapes" style="color: inherit; text-decoration: none;">
  <h2>Shapes</h2>
</a>
<p>The available shapes are:</p>
<ul>
<li><a href="./classes/Box.html">Box</a></li>
<li><a href="./classes/Capsule.html">Capsule</a></li>
<li><a href="./classes/Circle.html">Circle</a></li>
<li><a href="./classes/Convex.html">Convex</a></li>
<li><a href="./classes/Heightfield.html">Heightfield</a></li>
<li><a href="./classes/Line.html">Line</a></li>
<li><a href="./classes/Particle.html">Particle</a></li>
<li><a href="./classes/Plane.html">Plane</a></li>
</ul>

<a href="#filtering-shape-collisions" id="filtering-shape-collisions" style="color: inherit; text-decoration: none;">
  <h3>Filtering shape collisions</h3>
</a>
<p>You can use bit masks to enable or disable collisions between individual groups of shapes. For a full explanation, see this tutorial.</p>
<pre><code class="language-js"><span class="hl-7">// Setup bits for each available group</span><br/><span class="hl-9">var</span><span class="hl-1"> </span><span class="hl-11">PLAYER</span><span class="hl-1"> = </span><span class="hl-12">Math</span><span class="hl-1">.</span><span class="hl-13">pow</span><span class="hl-1">(</span><span class="hl-14">2</span><span class="hl-1">, </span><span class="hl-14">0</span><span class="hl-1">), </span><span class="hl-7">// 00000000000000000000000000000001 in binary</span><br/><span class="hl-1">    </span><span class="hl-11">ENEMY</span><span class="hl-1"> = </span><span class="hl-12">Math</span><span class="hl-1">.</span><span class="hl-13">pow</span><span class="hl-1">(</span><span class="hl-14">2</span><span class="hl-1">, </span><span class="hl-14">1</span><span class="hl-1">), </span><span class="hl-7">// 00000000000000000000000000000010 in binary</span><br/><span class="hl-1">    </span><span class="hl-11">GROUND</span><span class="hl-1"> = </span><span class="hl-12">Math</span><span class="hl-1">.</span><span class="hl-13">pow</span><span class="hl-1">(</span><span class="hl-14">2</span><span class="hl-1">, </span><span class="hl-14">2</span><span class="hl-1">) </span><span class="hl-7">// 00000000000000000000000000000100 in binary</span><br/><br/><span class="hl-7">// Put shapes into their groups</span><br/><span class="hl-0">player1Shape</span><span class="hl-1">.</span><span class="hl-0">collisionGroup</span><span class="hl-1"> = </span><span class="hl-11">PLAYER</span><br/><span class="hl-0">player2Shape</span><span class="hl-1">.</span><span class="hl-0">collisionGroup</span><span class="hl-1"> = </span><span class="hl-11">PLAYER</span><br/><span class="hl-0">enemyShape</span><span class="hl-1">.</span><span class="hl-0">collisionGroup</span><span class="hl-1"> = </span><span class="hl-11">ENEMY</span><br/><span class="hl-0">groundShape</span><span class="hl-1">.</span><span class="hl-0">collisionGroup</span><span class="hl-1"> = </span><span class="hl-11">GROUND</span><br/><br/><span class="hl-7">// Assign groups that each shape collide with.</span><br/><span class="hl-7">// Note that the players can collide with ground and enemies, but not with other players.</span><br/><span class="hl-0">player1Shape</span><span class="hl-1">.</span><span class="hl-0">collisionMask</span><span class="hl-1"> = </span><span class="hl-11">ENEMY</span><span class="hl-1"> | </span><span class="hl-11">GROUND</span><br/><span class="hl-0">player2Shape</span><span class="hl-1">.</span><span class="hl-0">collisionMask</span><span class="hl-1"> = </span><span class="hl-11">ENEMY</span><span class="hl-1"> | </span><span class="hl-11">GROUND</span><br/><span class="hl-0">enemyShape</span><span class="hl-1">.</span><span class="hl-0">collisionMask</span><span class="hl-1"> = </span><span class="hl-11">PLAYER</span><span class="hl-1"> | </span><span class="hl-11">GROUND</span><br/><span class="hl-0">groundShape</span><span class="hl-1">.</span><span class="hl-0">collisionMask</span><span class="hl-1"> = </span><span class="hl-11">PLAYER</span><span class="hl-1"> | </span><span class="hl-11">ENEMY</span>
</code></pre>
<p>This is how the collision filter check is done between two shapes:</p>
<pre><code class="language-js"><span class="hl-8">if</span><span class="hl-1">(</span><span class="hl-0">shapeA</span><span class="hl-1">.</span><span class="hl-0">collisionGroup</span><span class="hl-1"> &amp; </span><span class="hl-0">shapeB</span><span class="hl-1">.</span><span class="hl-0">collisionMask</span><span class="hl-1">)!=</span><span class="hl-14">0</span><span class="hl-1"> &amp;&amp; (</span><span class="hl-0">shapeB</span><span class="hl-1">.</span><span class="hl-0">collisionGroup</span><span class="hl-1"> &amp; </span><span class="hl-0">shapeA</span><span class="hl-1">.</span><span class="hl-0">collisionMask</span><span class="hl-1">)!=</span><span class="hl-14">0</span><span class="hl-1">){</span><br/><span class="hl-1">    </span><span class="hl-7">// The shapes can collide</span><br/><span class="hl-1">}</span>
</code></pre>
<p>In JavaScript, you can use 32 valid groups (Math.pow(2,0) up to Math.pow(2,31)). If you use the mask 0 it won&#39;t match with any other shape group, and mask -1 will match all groups.</p>
<pre><code class="language-js"><span class="hl-0">allCollisionsShape</span><span class="hl-1">.</span><span class="hl-0">collisionMask</span><span class="hl-1"> = -</span><span class="hl-14">1</span><br/><span class="hl-0">noCollisionsShape</span><span class="hl-1">.</span><span class="hl-0">collisionMask</span><span class="hl-1"> = </span><span class="hl-14">0</span>
</code></pre>

<a href="#bodies" id="bodies" style="color: inherit; text-decoration: none;">
  <h2>Bodies</h2>
</a>

<a href="#body-types" id="body-types" style="color: inherit; text-decoration: none;">
  <h3>Body types</h3>
</a>
<p>The body can be one of three types, <code>Body.STATIC</code>, <code>Body.KINEMATIC</code>, and <code>Body.DYNAMIC</code>.</p>
<ul>
<li><code>Dynamic</code> bodies interact with all other bodies and can move.</li>
<li><code>Static</code> bodies do not move, but interact with dynamic bodies.</li>
<li><code>Kinematic</code> bodies can be controlled via velocity, but they behave like static bodies otherwise.</li>
</ul>
<pre><code class="language-js"><span class="hl-7">// By setting the mass of a body to a nonzero number, the body</span><br/><span class="hl-7">// will become dynamic and will move and interact with other bodies.</span><br/><span class="hl-9">var</span><span class="hl-1"> </span><span class="hl-0">dynamicBody</span><span class="hl-1"> = </span><span class="hl-9">new</span><span class="hl-1"> </span><span class="hl-13">Body</span><span class="hl-1">({</span><br/><span class="hl-1">    </span><span class="hl-0">mass:</span><span class="hl-1"> </span><span class="hl-14">1</span><span class="hl-1">,</span><br/><span class="hl-1">})</span><br/><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-13">log</span><span class="hl-1">(</span><span class="hl-0">dynamicBody</span><span class="hl-1">.</span><span class="hl-0">type</span><span class="hl-1"> == </span><span class="hl-0">Body</span><span class="hl-1">.</span><span class="hl-11">DYNAMIC</span><span class="hl-1">) </span><span class="hl-7">// true</span><br/><br/><span class="hl-7">// Bodies are static if mass is not specified or zero. Static bodies will never move.</span><br/><span class="hl-9">var</span><span class="hl-1"> </span><span class="hl-0">staticBody</span><span class="hl-1"> = </span><span class="hl-9">new</span><span class="hl-1"> </span><span class="hl-13">Body</span><span class="hl-1">()</span><br/><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-13">log</span><span class="hl-1">(</span><span class="hl-0">staticBody</span><span class="hl-1">.</span><span class="hl-0">type</span><span class="hl-1"> == </span><span class="hl-0">Body</span><span class="hl-1">.</span><span class="hl-11">STATIC</span><span class="hl-1">) </span><span class="hl-7">// true</span><br/><br/><span class="hl-7">// Kinematic bodies will only move if you change their velocity.</span><br/><span class="hl-9">var</span><span class="hl-1"> </span><span class="hl-0">kinematicBody</span><span class="hl-1"> = </span><span class="hl-9">new</span><span class="hl-1"> </span><span class="hl-13">Body</span><span class="hl-1">({</span><br/><span class="hl-1">    </span><span class="hl-0">type:</span><span class="hl-1"> </span><span class="hl-0">Body</span><span class="hl-1">.</span><span class="hl-11">KINEMATIC</span><span class="hl-1">,</span><br/><span class="hl-1">})</span>
</code></pre>

<a href="#mass-properties" id="mass-properties" style="color: inherit; text-decoration: none;">
  <h3>Mass properties</h3>
</a>
<p>The body has mass and inertia. You can set the body mass when you create the body, or change it dynamically during simulation.</p>
<pre><code class="language-js"><span class="hl-9">var</span><span class="hl-1"> </span><span class="hl-0">body</span><span class="hl-1"> = </span><span class="hl-9">new</span><span class="hl-1"> </span><span class="hl-0">p2</span><span class="hl-1">.</span><span class="hl-13">Body</span><span class="hl-1">({</span><br/><span class="hl-1">    </span><span class="hl-0">mass:</span><span class="hl-1"> </span><span class="hl-14">3</span><span class="hl-1">,</span><br/><span class="hl-1">})</span>
</code></pre>
<pre><code class="language-js"><span class="hl-7">// Dynamically</span><br/><span class="hl-0">body</span><span class="hl-1">.</span><span class="hl-0">mass</span><span class="hl-1"> = </span><span class="hl-14">1</span><br/><span class="hl-0">body</span><span class="hl-1">.</span><span class="hl-13">updateMassProperties</span><span class="hl-1">()</span>
</code></pre>
<p>You can also change the type of the body dynamically, but in the same way, you have to update the mass properties.</p>
<pre><code class="language-js"><span class="hl-7">// Change body type dynamically</span><br/><span class="hl-0">body</span><span class="hl-1">.</span><span class="hl-0">type</span><span class="hl-1"> = </span><span class="hl-0">p2</span><span class="hl-1">.</span><span class="hl-0">Body</span><span class="hl-1">.</span><span class="hl-11">KINEMATIC</span><br/><span class="hl-0">body</span><span class="hl-1">.</span><span class="hl-13">updateMassProperties</span><span class="hl-1">()</span>
</code></pre>

<a href="#constraints" id="constraints" style="color: inherit; text-decoration: none;">
  <h2>Constraints</h2>
</a>
<p>Constraints are used to constrain bodies to each other. Typical examples in games include ragdolls, teeters, and pulleys. Constraints can be combined in many different ways to create interesting motions.</p>
<p>Some constraints provide limits so you can control the range of motion. Some constraints provide motors which can be used to drive the constraint at a prescribed speed until a prescribed force/torque is exceeded.</p>
<p>Constraint motors can be used in many ways. You can use motors to control position by specifying a velocity that is proportional to the difference between the actual and desired position. You can also use motors to simulate friction: set the velocity to zero and provide a small, but significant maximum motor force/torque. Then the motor will attempt to keep the constraint from moving until the load becomes too strong.</p>

<a href="#revoluteconstraint" id="revoluteconstraint" style="color: inherit; text-decoration: none;">
  <h3>RevoluteConstraint</h3>
</a>
<p>A revolute constraint forces two bodies to share a common anchor point, often called a hinge point. The revolute constraint has a single degree of freedom: the relative rotation of the two bodies. This is called the constraint angle.</p>
<p>To specify a revolute you need to provide two bodies and a single anchor point in world space. The initialization function assumes that the bodies are already in the correct position. Alternatively, you can initialize tge constraint using two anchor points defined locally in each body.</p>
<p>In this example, two bodies are connected by a revolute joint at the first body&#39;s center of mass.</p>
<pre><code class="language-js"><span class="hl-9">var</span><span class="hl-1"> </span><span class="hl-0">constraint</span><span class="hl-1"> = </span><span class="hl-9">new</span><span class="hl-1"> </span><span class="hl-13">RevoluteConstraint</span><span class="hl-1">({</span><br/><span class="hl-1">    </span><span class="hl-0">bodyA:</span><span class="hl-1"> </span><span class="hl-0">bodyA</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-0">bodyB:</span><span class="hl-1"> </span><span class="hl-0">bodyB</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-0">worldPivot:</span><span class="hl-1"> </span><span class="hl-0">bodyA</span><span class="hl-1">.</span><span class="hl-0">position</span><span class="hl-1">,</span><br/><span class="hl-1">})</span>
</code></pre>
<p>The revolute joint angle is positive when bodyB rotates CCW about the angle point. Like all angles in p2-es, the revolute angle is measured in radians. By convention the revolute joint angle is zero when the joint is created, regardless of the current rotation of the two bodies.</p>
<p>In some cases you might wish to control the constraint angle. For this, the revolute constraint can optionally simulate a constraint limit and/or a motor.</p>
<p>A limit forces the angle to remain between a lower and upper bound. The limit will apply as much torque as needed to make this happen. The limit range should include zero, otherwise the joint will lurch when the simulation begins.</p>
<p>A motor allows you to specify the joint speed (the time derivative of the angle). The speed can be negative or positive. A motor can have infinite force, but this is usually not desirable. Recall the eternal question:</p>
<p><em>&quot;What happens when an irresistible force meets an immovable object?&quot;</em></p>
<p>I can tell you it&#39;s not pretty. So you can provide a maximum torque for the constraint motor. The motor will maintain the specified speed unless the required torque exceeds the specified maximum. When the maximum torque is exceeded, the motor will slow down and can even reverse. You can use a motor to simulate friction. Just set the motor speed to zero, and set the maximum torque to some small, but significant value. The motor will try to prevent the constraint from rotating, but will yield to a significant load.</p>

<a href="#distanceconstraint" id="distanceconstraint" style="color: inherit; text-decoration: none;">
  <h3>DistanceConstraint</h3>
</a>
<p>One of the simplest constraints is a distance constraint, which says that the distance between two points on two bodies must be constant. When you specify a distance constraint you specify the two anchor points in local body coordinates. If you don&#39;t provide a distance parameter, the current distance will be used.</p>
<p>The distance constraint can also be made soft, like a spring-damper connection. Softness is achieved by tuning two constants: stiffness and relaxation. Think of the stiffness as the frequency of a harmonic oscillator (like a guitar string).</p>
<pre><code class="language-js"><span class="hl-0">distanceConstraint</span><span class="hl-1">.</span><span class="hl-13">setStiffness</span><span class="hl-1">(</span><span class="hl-14">10</span><span class="hl-1">)</span><br/><span class="hl-0">distanceConstraint</span><span class="hl-1">.</span><span class="hl-13">setRelaxation</span><span class="hl-1">(</span><span class="hl-14">4</span><span class="hl-1">)</span>
</code></pre>

<a href="#gearconstraint" id="gearconstraint" style="color: inherit; text-decoration: none;">
  <h3>GearConstraint</h3>
</a>
<p>TODO</p>

<a href="#hingeconstraint" id="hingeconstraint" style="color: inherit; text-decoration: none;">
  <h3>HingeConstraint</h3>
</a>
<p>TODO</p>

<a href="#prismaticconstraint" id="prismaticconstraint" style="color: inherit; text-decoration: none;">
  <h3>PrismaticConstraint</h3>
</a>
<p>TODO</p>

<a href="#equations" id="equations" style="color: inherit; text-decoration: none;">
  <h2>Equations</h2>
</a>
<p>Every Constraint have a number of Equations that should be solved by the Solver. In most cases, the user don&#39;t have to deal with Equations directly but they can be useful sometimes.</p>
<p>It was mentioned that a Constraint removes a number of degrees of freedom between two bodies. Each Equation removes one degree of freedom.</p>
<p>As an example, the LockConstraint (which removes all three degrees of freedom) has one Equation that removes motion along X, one for Y, and one for rotation. Given that the third equation in the LockConstraint is for rotational motion, the statement <code>lockConstraint.equations[0].enabled=false;</code> will stop locking the angle between the bodies.</p>

<a href="#events" id="events" style="color: inherit; text-decoration: none;">
  <h2>Events</h2>
</a>

<a href="#poststep" id="poststep" style="color: inherit; text-decoration: none;">
  <h3>postStep</h3>
</a>
<p>The <code>postStep</code> event is probably where you want to apply forces on your bodies, since the forces are set to zero after each step.</p>
<pre><code class="language-ts"><span class="hl-0">world</span><span class="hl-1">.</span><span class="hl-13">on</span><span class="hl-1">(</span><span class="hl-10">&#39;postStep&#39;</span><span class="hl-1">, </span><span class="hl-9">function</span><span class="hl-1"> () {</span><br/><span class="hl-1">    </span><span class="hl-0">body</span><span class="hl-1">.</span><span class="hl-0">force</span><span class="hl-1">[</span><span class="hl-14">0</span><span class="hl-1">] -= </span><span class="hl-14">10</span><span class="hl-1"> * </span><span class="hl-0">body</span><span class="hl-1">.</span><span class="hl-0">position</span><span class="hl-1">[</span><span class="hl-14">0</span><span class="hl-1">]</span><br/><span class="hl-1">})</span>
</code></pre>

<a href="#events-fired-during-step" id="events-fired-during-step" style="color: inherit; text-decoration: none;">
  <h3>Events fired during step</h3>
</a>
<p>Some events are fired during the execution of <code>world.step()</code>. This is great, because it allows you to modify the behavior of the step. But you have to be careful: if you for example remove a body during a step then the world will most likely break apart. Therefore: read the documentation for the events you use, and be careful!</p>
<p>Don&#39;t do this:</p>
<pre><code class="language-js"><span class="hl-0">world</span><span class="hl-1">.</span><span class="hl-13">on</span><span class="hl-1">(</span><span class="hl-10">&#39;beginContact&#39;</span><span class="hl-1">, </span><span class="hl-9">function</span><span class="hl-1"> (</span><span class="hl-0">evt</span><span class="hl-1">) {</span><br/><span class="hl-1">    </span><span class="hl-0">world</span><span class="hl-1">.</span><span class="hl-13">removeBody</span><span class="hl-1">(</span><span class="hl-0">evt</span><span class="hl-1">.</span><span class="hl-0">bodyA</span><span class="hl-1">) </span><span class="hl-7">// BAD!</span><br/><span class="hl-1">})</span>
</code></pre>
<p>Instead, you can save the removal until after the step:</p>
<pre><code class="language-js"><span class="hl-9">var</span><span class="hl-1"> </span><span class="hl-0">removeBody</span><br/><span class="hl-0">world</span><span class="hl-1">.</span><span class="hl-13">on</span><span class="hl-1">(</span><span class="hl-10">&#39;beginContact&#39;</span><span class="hl-1">, </span><span class="hl-9">function</span><span class="hl-1"> (</span><span class="hl-0">evt</span><span class="hl-1">) {</span><br/><span class="hl-1">    </span><span class="hl-0">removeBody</span><span class="hl-1"> = </span><span class="hl-0">evt</span><span class="hl-1">.</span><span class="hl-0">bodyA</span><br/><span class="hl-1">})</span><br/><span class="hl-7">// Simulation loop</span><br/><span class="hl-13">setInterval</span><span class="hl-1">(</span><span class="hl-9">function</span><span class="hl-1"> () {</span><br/><span class="hl-1">    </span><span class="hl-0">world</span><span class="hl-1">.</span><span class="hl-13">step</span><span class="hl-1">(</span><span class="hl-0">timeStep</span><span class="hl-1">)</span><br/><span class="hl-1">    </span><span class="hl-8">if</span><span class="hl-1"> (</span><span class="hl-0">removeBody</span><span class="hl-1">) {</span><br/><span class="hl-1">        </span><span class="hl-0">world</span><span class="hl-1">.</span><span class="hl-13">removeBody</span><span class="hl-1">(</span><span class="hl-0">removeBody</span><span class="hl-1">) </span><span class="hl-7">// GOOD!</span><br/><span class="hl-1">        </span><span class="hl-0">removeBody</span><span class="hl-1"> = </span><span class="hl-9">null</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">}, (</span><span class="hl-14">1</span><span class="hl-1"> / </span><span class="hl-14">60</span><span class="hl-1">) * </span><span class="hl-14">1000</span><span class="hl-1">)</span>
</code></pre>

<a href="#materials" id="materials" style="color: inherit; text-decoration: none;">
  <h2>Materials</h2>
</a>
<p>Materials are set per shape. Let&#39;s create two circles, one made of ice and one made of steel.</p>
<pre><code class="language-js"><span class="hl-9">var</span><span class="hl-1"> </span><span class="hl-0">iceMaterial</span><span class="hl-1"> = </span><span class="hl-9">new</span><span class="hl-1"> </span><span class="hl-0">p2</span><span class="hl-1">.</span><span class="hl-13">Material</span><span class="hl-1">()</span><br/><span class="hl-9">var</span><span class="hl-1"> </span><span class="hl-0">steelMaterial</span><span class="hl-1"> = </span><span class="hl-9">new</span><span class="hl-1"> </span><span class="hl-0">p2</span><span class="hl-1">.</span><span class="hl-13">Material</span><span class="hl-1">()</span><br/><br/><span class="hl-9">var</span><span class="hl-1"> </span><span class="hl-0">iceCircleShape</span><span class="hl-1"> = </span><span class="hl-9">new</span><span class="hl-1"> </span><span class="hl-0">p2</span><span class="hl-1">.</span><span class="hl-13">Circle</span><span class="hl-1">({ </span><span class="hl-0">radius:</span><span class="hl-1"> </span><span class="hl-14">0.5</span><span class="hl-1"> })</span><br/><span class="hl-9">var</span><span class="hl-1"> </span><span class="hl-0">steelCircleShape</span><span class="hl-1"> = </span><span class="hl-9">new</span><span class="hl-1"> </span><span class="hl-0">p2</span><span class="hl-1">.</span><span class="hl-13">Circle</span><span class="hl-1">({ </span><span class="hl-0">radius:</span><span class="hl-1"> </span><span class="hl-14">0.5</span><span class="hl-1"> })</span><br/><br/><span class="hl-0">iceCircleShape</span><span class="hl-1">.</span><span class="hl-0">material</span><span class="hl-1"> = </span><span class="hl-0">iceMaterial</span><br/><span class="hl-0">steelCircleShape</span><span class="hl-1">.</span><span class="hl-0">material</span><span class="hl-1"> = </span><span class="hl-0">steelMaterial</span>
</code></pre>
<p>When two materials meet, phenomena like friction and restitution occur. You can look up friction values for <a href="http://en.wikipedia.org/wiki/Friction#Approximate_coefficients_of_friction">different material pairs on wikipedia</a>. In our case with ice and steel, we can see that the friction value is <code>0.03</code>.</p>
<p>To define the friction and restitution for a material pair in p2-es, you must create a ContactMaterial.</p>
<pre><code class="language-js"><span class="hl-9">var</span><span class="hl-1"> </span><span class="hl-0">iceSteelContactMaterial</span><span class="hl-1"> = </span><span class="hl-9">new</span><span class="hl-1"> </span><span class="hl-0">p2</span><span class="hl-1">.</span><span class="hl-13">ContactMaterial</span><span class="hl-1">(</span><span class="hl-0">iceMaterial</span><span class="hl-1">, </span><span class="hl-0">steelMaterial</span><span class="hl-1">, {</span><br/><span class="hl-1">    </span><span class="hl-0">friction:</span><span class="hl-1"> </span><span class="hl-14">0.03</span><span class="hl-1">,</span><br/><span class="hl-1">})</span><br/><span class="hl-0">world</span><span class="hl-1">.</span><span class="hl-13">addContactMaterial</span><span class="hl-1">(</span><span class="hl-0">iceSteelContactMaterial</span><span class="hl-1">)</span>
</code></pre>
<p>The <a href="http://pmndrs.github.io/p2-esjs/docs/classes/ContactMaterial.html"><code>ContactMaterial</code></a> holds many other properties such as restitution and surface velocity.</p>
<p>If there is a contact between to shapes that don&#39;t have a ContactMaterial, then a default contact material is used. This contact material can be reached via world.defaultContactMaterial.</p>

<a href="#world" id="world" style="color: inherit; text-decoration: none;">
  <h2>World</h2>
</a>

<a href="#gravity" id="gravity" style="color: inherit; text-decoration: none;">
  <h3>Gravity</h3>
</a>
<p>Gravity is global in the World, and it will be applied to all bodies each time step. You can set and get the current gravity vector from world.gravity.</p>
<pre><code class="language-js"><span class="hl-0">world</span><span class="hl-1">.</span><span class="hl-0">gravity</span><span class="hl-1">[</span><span class="hl-14">0</span><span class="hl-1">] = </span><span class="hl-14">0</span><span class="hl-1"> </span><span class="hl-7">// x</span><br/><span class="hl-0">world</span><span class="hl-1">.</span><span class="hl-0">gravity</span><span class="hl-1">[</span><span class="hl-14">1</span><span class="hl-1">] = -</span><span class="hl-14">9.82</span><span class="hl-1"> </span><span class="hl-7">// y</span><br/><span class="hl-7">// or:</span><br/><span class="hl-0">p2</span><span class="hl-1">.</span><span class="hl-0">vec2</span><span class="hl-1">.</span><span class="hl-13">set</span><span class="hl-1">(</span><span class="hl-0">world</span><span class="hl-1">.</span><span class="hl-0">gravity</span><span class="hl-1">, </span><span class="hl-14">0</span><span class="hl-1">, -</span><span class="hl-14">9.82</span><span class="hl-1">)</span>
</code></pre>
<p>There are times when you don&#39;t want to apply gravity to all bodies. In this case you must turn off global gravity and start applying gravity force yourself.</p>
<pre><code class="language-js"><span class="hl-7">// Turn off global gravity</span><br/><span class="hl-0">world</span><span class="hl-1">.</span><span class="hl-0">applyGravity</span><span class="hl-1"> = </span><span class="hl-9">false</span><br/><br/><span class="hl-7">// Keep track of which bodies you want to apply gravity on:</span><br/><span class="hl-9">var</span><span class="hl-1"> </span><span class="hl-0">gravityBodies</span><span class="hl-1"> = [</span><span class="hl-0">body1</span><span class="hl-1">, </span><span class="hl-0">body2</span><span class="hl-1">, </span><span class="hl-0">body3</span><span class="hl-1">]</span><br/><br/><span class="hl-7">// And just before running world.step(), do this:</span><br/><span class="hl-9">var</span><span class="hl-1"> </span><span class="hl-0">gravity</span><span class="hl-1"> = </span><span class="hl-0">p2</span><span class="hl-1">.</span><span class="hl-0">vec2</span><span class="hl-1">.</span><span class="hl-13">fromValues</span><span class="hl-1">(</span><span class="hl-14">0</span><span class="hl-1">, -</span><span class="hl-14">9.82</span><span class="hl-1">),</span><br/><span class="hl-1">    </span><span class="hl-0">gravityForce</span><span class="hl-1"> = </span><span class="hl-0">p2</span><span class="hl-1">.</span><span class="hl-0">vec2</span><span class="hl-1">.</span><span class="hl-13">create</span><span class="hl-1">()</span><br/><span class="hl-8">for</span><span class="hl-1"> (</span><span class="hl-9">var</span><span class="hl-1"> </span><span class="hl-0">i</span><span class="hl-1"> = </span><span class="hl-14">0</span><span class="hl-1">; </span><span class="hl-0">i</span><span class="hl-1"> &lt; </span><span class="hl-0">gravityBodies</span><span class="hl-1">.</span><span class="hl-0">length</span><span class="hl-1">; </span><span class="hl-0">i</span><span class="hl-1">++) {</span><br/><span class="hl-1">    </span><span class="hl-9">var</span><span class="hl-1"> </span><span class="hl-0">b</span><span class="hl-1"> = </span><span class="hl-0">gravityBodies</span><span class="hl-1">[</span><span class="hl-0">i</span><span class="hl-1">]</span><br/><span class="hl-1">    </span><span class="hl-0">p2</span><span class="hl-1">.</span><span class="hl-0">vec2</span><span class="hl-1">.</span><span class="hl-13">scale</span><span class="hl-1">(</span><span class="hl-0">gravityForce</span><span class="hl-1">, </span><span class="hl-0">gravity</span><span class="hl-1">, </span><span class="hl-0">b</span><span class="hl-1">.</span><span class="hl-0">mass</span><span class="hl-1">) </span><span class="hl-7">// F_gravity = m*g</span><br/><span class="hl-1">    </span><span class="hl-0">p2</span><span class="hl-1">.</span><span class="hl-0">vec2</span><span class="hl-1">.</span><span class="hl-13">add</span><span class="hl-1">(</span><span class="hl-0">b</span><span class="hl-1">.</span><span class="hl-0">force</span><span class="hl-1">, </span><span class="hl-0">b</span><span class="hl-1">.</span><span class="hl-0">force</span><span class="hl-1">, </span><span class="hl-0">gravityForce</span><span class="hl-1">) </span><span class="hl-7">// F_body += F_gravity</span><br/><span class="hl-1">}</span>
</code></pre>

<a href="#stepping-the-world" id="stepping-the-world" style="color: inherit; text-decoration: none;">
  <h3>Stepping the world</h3>
</a>
<p>When you simply want to move the simulation forward in time, you run <code>world.step(fixedTimeStep)</code>, where fixedTimeStep is the &quot;resolution&quot; of your physics simulation.</p>
<pre><code class="language-js"><span class="hl-7">// Framerate dependent - Fail!</span><br/><span class="hl-9">var</span><span class="hl-1"> </span><span class="hl-0">fixedTimeStep</span><span class="hl-1"> = </span><span class="hl-14">1</span><span class="hl-1"> / </span><span class="hl-14">60</span><br/><span class="hl-13">requestAnimationFrame</span><span class="hl-1">(</span><span class="hl-9">function</span><span class="hl-1"> </span><span class="hl-13">animloop</span><span class="hl-1">(</span><span class="hl-0">timeMilliseconds</span><span class="hl-1">) {</span><br/><span class="hl-1">    </span><span class="hl-13">requestAnimationFrame</span><span class="hl-1">(</span><span class="hl-0">animloop</span><span class="hl-1">)</span><br/><span class="hl-1">    </span><span class="hl-0">world</span><span class="hl-1">.</span><span class="hl-13">step</span><span class="hl-1">(</span><span class="hl-0">fixedTimeStep</span><span class="hl-1">)</span><br/><span class="hl-1">})</span>
</code></pre>
<p>If you try using this method in your rendering loop, you&#39;ll soon notice that the speed of objects will depend on the frame rate in which you are running your simulation. On mobile devices, the framerate is often capped to 30Hz instead of 60Hz that you get on desktop. Therefore, objects will move slower on mobile than on desktop. Luckily, p2-es has you covered!</p>
<p>The full signature of <code>World.prototype.step</code> is:</p>
<pre><code class="language-js"><span class="hl-0">world</span><span class="hl-1">.</span><span class="hl-13">step</span><span class="hl-1">(</span><span class="hl-0">fixedTimeStep</span><span class="hl-1">, </span><span class="hl-0">timeSinceLastCall</span><span class="hl-1">, </span><span class="hl-0">maxSubSteps</span><span class="hl-1">)</span>
</code></pre>
<p>If you pass all three parameters, p2-es will make sure that your simulation runs at the same pace at every frame rate.</p>
<pre><code class="language-js"><span class="hl-7">// Frame rate independent! Success!</span><br/><span class="hl-9">var</span><span class="hl-1"> </span><span class="hl-0">fixedTimeStep</span><span class="hl-1"> = </span><span class="hl-14">1</span><span class="hl-1"> / </span><span class="hl-14">60</span><span class="hl-1">, </span><span class="hl-0">maxSubSteps</span><span class="hl-1"> = </span><span class="hl-14">10</span><span class="hl-1">, </span><span class="hl-0">lastTimeMilliseconds</span><span class="hl-1">;</span><br/><span class="hl-13">requestAnimationFrame</span><span class="hl-1">(</span><span class="hl-9">function</span><span class="hl-1"> </span><span class="hl-13">animloop</span><span class="hl-1">(</span><span class="hl-0">timeMilliseconds</span><span class="hl-1">){</span><br/><span class="hl-1">    </span><span class="hl-13">requestAnimationFrame</span><span class="hl-1">(</span><span class="hl-0">animloop</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-9">var</span><span class="hl-1"> </span><span class="hl-0">timeSinceLastCall</span><span class="hl-1"> = </span><span class="hl-14">0</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-8">if</span><span class="hl-1">(</span><span class="hl-0">timeMilliseconds</span><span class="hl-1"> !== </span><span class="hl-9">undefined</span><span class="hl-1"> &amp;&amp; </span><span class="hl-0">lastTimeMilliseconds</span><span class="hl-1"> !== </span><span class="hl-9">undefined</span><span class="hl-1">){</span><br/><span class="hl-1">        </span><span class="hl-0">timeSinceLastCall</span><span class="hl-1"> = (</span><span class="hl-0">timeMilliseconds</span><span class="hl-1"> - </span><span class="hl-0">lastTimeMilliseconds</span><span class="hl-1">) / </span><span class="hl-14">1000</span><span class="hl-1">;</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">    </span><span class="hl-0">world</span><span class="hl-1">.</span><span class="hl-13">step</span><span class="hl-1">(</span><span class="hl-0">fixedTimeStep</span><span class="hl-1">, </span><span class="hl-0">timeSinceLastCall</span><span class="hl-1">, </span><span class="hl-0">maxSubSteps</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-0">lastTimeMilliseconds</span><span class="hl-1"> = </span><span class="hl-0">timeMilliseconds</span><span class="hl-1">;</span><br/><span class="hl-1">}</span>
</code></pre>
<p>But how does this work?</p>
<p>You&#39;ve already used the first parameter. Each time p2-es moves the time forward, it will progress its internal physics clock by this value. If you only pass this parameter, p2-es will take a single fixed step forward in time and use this time step.</p>
<p>The second parameter, <code>timeSinceLastCall</code>, is simply the delta time since you last called the method. p2-es has an internal &quot;wall clock&quot; that it will accumulate this value onto.</p>
<p>When you call the method with three arguments, p2-es will do fixed steps until the &quot;physics clock&quot; is in sync with the &quot;wall clock&quot;. This is the trick to get framerate independence. The last parameter should be self-explanatory: it&#39;s the maximum number of fixed steps to use for each <code>step()</code> call.</p>
<p>It&#39;s important that <code>timeSinceLastCall</code> is always less than <code>maxSubSteps * fixedTimeStep</code>, otherwise you are losing time.</p>
<p>Note that the time values are measured in seconds, and not milliseconds. A common and easy mistake is to just pass it the value passed by <code>requestAnimationFrame</code>, <code>Date.now()</code> or <code>performance.now()</code>. This mistake can give strange results such as: No framerate dependence no matter what you do. Objects not moving at all until you apply a huge force and then they give huge acceleration. Simply divide the time by 1000 before passing to step().</p>

<a href="#fixedtimestep-size" id="fixedtimestep-size" style="color: inherit; text-decoration: none;">
  <h3>fixedTimeStep size</h3>
</a>
<p>By decreasing the size of fixedTimeStep, you are increasing the &quot;resolution&quot; of the simulation. If you are finding that your objects are moving very fast and escaping from your walls instead of colliding with them, then one way to help fix this problem is by decreasing fixedTimeStep. If you do this, then you will need to increase maxSubSteps to ensure that timeSinceLastCall &lt; maxSubSteps * fixedTimeStep.</p>

<a href="#interpolation" id="interpolation" style="color: inherit; text-decoration: none;">
  <h3>Interpolation</h3>
</a>
<p>Another thing that p2-es does is interpolation of movement. If you pass all three parameters to world.step(), then you&#39;ll get an interpolated position for each Body via body.interpolatedPosition and body.interpolatedAngle. The movement will look a lot smoother if you use these values for rendering instead of .position and .angle.</p>

<a href="#example" id="example" style="color: inherit; text-decoration: none;">
  <h3>Example</h3>
</a>
<pre><code class="language-js"><span class="hl-9">var</span><span class="hl-1"> </span><span class="hl-0">maxSubSteps</span><span class="hl-1"> = </span><span class="hl-14">10</span><br/><span class="hl-9">var</span><span class="hl-1"> </span><span class="hl-0">fixedTimeStep</span><span class="hl-1"> = </span><span class="hl-14">1</span><span class="hl-1"> / </span><span class="hl-14">60</span><br/><span class="hl-9">var</span><span class="hl-1"> </span><span class="hl-0">lastTimeSeconds</span><br/><span class="hl-9">function</span><span class="hl-1"> </span><span class="hl-13">animate</span><span class="hl-1">(</span><span class="hl-0">t</span><span class="hl-1">) {</span><br/><span class="hl-1">    </span><span class="hl-13">requestAnimationFrame</span><span class="hl-1">(</span><span class="hl-0">animate</span><span class="hl-1">)</span><br/><span class="hl-1">    </span><span class="hl-9">var</span><span class="hl-1"> </span><span class="hl-0">timeSeconds</span><span class="hl-1"> = </span><span class="hl-0">t</span><span class="hl-1"> / </span><span class="hl-14">1000</span><br/><span class="hl-1">    </span><span class="hl-0">lastTimeSeconds</span><span class="hl-1"> = </span><span class="hl-0">lastTimeSeconds</span><span class="hl-1"> || </span><span class="hl-0">timeSeconds</span><br/><span class="hl-1">    </span><span class="hl-9">var</span><span class="hl-1"> </span><span class="hl-0">timeSinceLastCall</span><span class="hl-1"> = </span><span class="hl-0">timeSeconds</span><span class="hl-1"> - </span><span class="hl-0">lastTimeSeconds</span><br/><span class="hl-1">    </span><span class="hl-0">world</span><span class="hl-1">.</span><span class="hl-13">step</span><span class="hl-1">(</span><span class="hl-0">fixedTimeStep</span><span class="hl-1">, </span><span class="hl-0">timeSinceLastCall</span><span class="hl-1">, </span><span class="hl-0">maxSubSteps</span><span class="hl-1">)</span><br/><span class="hl-1">    </span><span class="hl-13">renderBody</span><span class="hl-1">(</span><span class="hl-0">body</span><span class="hl-1">.</span><span class="hl-0">interpolatedPosition</span><span class="hl-1">, </span><span class="hl-0">body</span><span class="hl-1">.</span><span class="hl-0">interpolatedAngle</span><span class="hl-1">)</span><br/><span class="hl-1">}</span><br/><span class="hl-13">requestAnimationFrame</span><span class="hl-1">(</span><span class="hl-0">animate</span><span class="hl-1">)</span>
</code></pre>

<a href="#solvers" id="solvers" style="color: inherit; text-decoration: none;">
  <h2>Solvers</h2>
</a>
<p>A solver is an algorithm for solving a linear systems of equations. In p2-es, it resolves constraints, contacts, and friction.</p>

<a href="#gssolver" id="gssolver" style="color: inherit; text-decoration: none;">
  <h3>GSSolver</h3>
</a>
<p>There are currently two solvers in p2-es. The most stable one is the GSSolver. This solver is iterative, which means that it converges to a solution in a number of iterations. In general, more iterations means better solution.</p>
<pre><code class="language-js"><span class="hl-0">world</span><span class="hl-1">.</span><span class="hl-0">solver</span><span class="hl-1"> = </span><span class="hl-9">new</span><span class="hl-1"> </span><span class="hl-13">GSSolver</span><span class="hl-1">()</span><br/><span class="hl-0">world</span><span class="hl-1">.</span><span class="hl-0">solver</span><span class="hl-1">.</span><span class="hl-0">iterations</span><span class="hl-1"> = </span><span class="hl-14">5</span><span class="hl-1"> </span><span class="hl-7">// Fast, but contacts might look squishy...</span><br/><span class="hl-0">world</span><span class="hl-1">.</span><span class="hl-0">solver</span><span class="hl-1">.</span><span class="hl-0">iterations</span><span class="hl-1"> = </span><span class="hl-14">50</span><span class="hl-1"> </span><span class="hl-7">// Slow, but contacts look good!</span>
</code></pre>

<a href="#island-solving" id="island-solving" style="color: inherit; text-decoration: none;">
  <h3>Island solving</h3>
</a>
<p>Instead of solving the whole system at once, one can split it into independent parts (called &quot;islands&quot;) and solve them independently.</p>
<p>This has most benefit if the islands can be solved in parallel, but it still has advantages when solving serially in a single thread, especially when the solver tolerance is larger than zero. The solver can then bail out very early for some islands of the simulation while other islands gets more iterations.</p>
<pre><code class="language-js"><span class="hl-9">var</span><span class="hl-1"> </span><span class="hl-0">world</span><span class="hl-1"> = </span><span class="hl-9">new</span><span class="hl-1"> </span><span class="hl-0">p2</span><span class="hl-1">.</span><span class="hl-13">World</span><span class="hl-1">({</span><br/><span class="hl-1">    </span><span class="hl-0">islandSplit:</span><span class="hl-1"> </span><span class="hl-9">true</span><span class="hl-1">,</span><br/><span class="hl-1">})</span><br/><span class="hl-0">world</span><span class="hl-1">.</span><span class="hl-0">solver</span><span class="hl-1">.</span><span class="hl-0">tolerance</span><span class="hl-1"> = </span><span class="hl-14">0.01</span>
</code></pre>

<a href="#solver-parameters" id="solver-parameters" style="color: inherit; text-decoration: none;">
  <h3>Solver parameters</h3>
</a>
<p>The solver parameters are set on the Equation objects. You provide constraint stiffness and relaxation, like so:</p>
<pre><code class="language-js"><span class="hl-0">equation</span><span class="hl-1">.</span><span class="hl-0">stiffness</span><span class="hl-1"> = </span><span class="hl-14">1e8</span><br/><span class="hl-0">equation</span><span class="hl-1">.</span><span class="hl-0">relaxation</span><span class="hl-1"> = </span><span class="hl-14">4</span><br/><span class="hl-0">equation</span><span class="hl-1">.</span><span class="hl-13">updateSpookParams</span><span class="hl-1">(</span><span class="hl-0">timeStep</span><span class="hl-1">)</span>
</code></pre>
<p>You can think of stiffness as the stiffness of a spring, which gives a force F=-k*x where x is the displacement of the spring. Relaxation is corresponds to the number of time steps you need to take to stabilize the constraint (larger value leads to a softer contact).</p>
<p>The mostly central equation types are ContactEquation and FrictionEquation. These equations are automatically created as contacts appear in your scene. To change the stiffness and relaxation of these, use the following ContactMaterial properties.</p>
<pre><code class="language-js"><span class="hl-0">contactMaterial</span><span class="hl-1">.</span><span class="hl-0">stiffness</span><span class="hl-1"> = </span><span class="hl-14">1e8</span><br/><span class="hl-0">contactMaterial</span><span class="hl-1">.</span><span class="hl-0">relaxation</span><span class="hl-1"> = </span><span class="hl-14">3</span><br/><span class="hl-0">contactMaterial</span><span class="hl-1">.</span><span class="hl-0">frictionStiffness</span><span class="hl-1"> = </span><span class="hl-14">1e8</span><br/><span class="hl-0">contactMaterial</span><span class="hl-1">.</span><span class="hl-0">frictionRelaxation</span><span class="hl-1"> = </span><span class="hl-14">3</span>
</code></pre>
<p>You can also set stiffness and relaxation on Constraint equations. Just loop over all its equations one by one.</p>

<a href="#the-demo-framework" id="the-demo-framework" style="color: inherit; text-decoration: none;">
  <h2>The Demo framework</h2>
</a>
<p>To make it simple to debug and test the features of p2-es, a custom rendering library was made. This library is completely separated from p2-es, so you can replace it with your own renderer.</p>
<p>The demo framework has an interactive menu to the right. Use it to:</p>
<ul>
<li>Interact with objects via the mouse (pick and pull)</li>
<li>Create new objects on the fly</li>
<li>Pause and play simulation</li>
<li>Manually stepping through the simulation</li>
<li>Control simulation parameters such as step size, max sub steps, etc.</li>
<li>Change gravity</li>
<li>Tweak global solver parameters (iterations, stiffness, relaxation, tolerance)</li>
</ul>

<a href="#limitations" id="limitations" style="color: inherit; text-decoration: none;">
  <h2>Limitations</h2>
</a>
<p>TODO</p>

<a href="#references" id="references" style="color: inherit; text-decoration: none;">
  <h2>References</h2>
</a>
<p>p2-es is based on the literature from the course <a href="http://www8.cs.umu.se/kurser/5DV058/">Visual Interactive Simulation</a> at Umeå University. Dive into the course readings and lab information if you want to know more about how the physics engine works! One of the best readings to start with is probably the <a href="http://www8.cs.umu.se/kurser/5DV058/VT15/lectures/SPOOKlabnotes.pdf">SPOOK lab notes</a>.</p>
</div></div><div class="col-4 col-menu menu-sticky-wrap menu-highlight"><nav class="tsd-navigation primary"><ul><li class="current"><a href="modules.html">Exports</a></li><li class=" tsd-kind-namespace"><a href="modules/Utils.html">Utils</a></li><li class=" tsd-kind-namespace"><a href="modules/vec2.html">vec2</a></li></ul></nav><nav class="tsd-navigation secondary menu-sticky"><ul><li class="tsd-kind-class"><a href="classes/AABB.html" class="tsd-kind-icon">AABB</a></li><li class="tsd-kind-class"><a href="classes/AngleLockEquation.html" class="tsd-kind-icon">Angle<wbr/>Lock<wbr/>Equation</a></li><li class="tsd-kind-class"><a href="classes/Body.html" class="tsd-kind-icon">Body</a></li><li class="tsd-kind-class"><a href="classes/Box.html" class="tsd-kind-icon">Box</a></li><li class="tsd-kind-class"><a href="classes/Broadphase.html" class="tsd-kind-icon">Broadphase</a></li><li class="tsd-kind-class"><a href="classes/Capsule.html" class="tsd-kind-icon">Capsule</a></li><li class="tsd-kind-class"><a href="classes/Circle.html" class="tsd-kind-icon">Circle</a></li><li class="tsd-kind-class"><a href="classes/Constraint.html" class="tsd-kind-icon">Constraint</a></li><li class="tsd-kind-class"><a href="classes/ContactEquation.html" class="tsd-kind-icon">Contact<wbr/>Equation</a></li><li class="tsd-kind-class"><a href="classes/ContactEquationPool.html" class="tsd-kind-icon">Contact<wbr/>Equation<wbr/>Pool</a></li><li class="tsd-kind-class"><a href="classes/ContactMaterial.html" class="tsd-kind-icon">Contact<wbr/>Material</a></li><li class="tsd-kind-class"><a href="classes/Convex.html" class="tsd-kind-icon">Convex</a></li><li class="tsd-kind-class"><a href="classes/DistanceConstraint.html" class="tsd-kind-icon">Distance<wbr/>Constraint</a></li><li class="tsd-kind-class"><a href="classes/Equation.html" class="tsd-kind-icon">Equation</a></li><li class="tsd-kind-class tsd-has-type-parameter"><a href="classes/EventEmitter.html" class="tsd-kind-icon">Event<wbr/>Emitter</a></li><li class="tsd-kind-class"><a href="classes/FrictionEquation.html" class="tsd-kind-icon">Friction<wbr/>Equation</a></li><li class="tsd-kind-class"><a href="classes/FrictionEquationPool.html" class="tsd-kind-icon">Friction<wbr/>Equation<wbr/>Pool</a></li><li class="tsd-kind-class"><a href="classes/GSSolver.html" class="tsd-kind-icon">GSSolver</a></li><li class="tsd-kind-class"><a href="classes/GearConstraint.html" class="tsd-kind-icon">Gear<wbr/>Constraint</a></li><li class="tsd-kind-class"><a href="classes/Heightfield.html" class="tsd-kind-icon">Heightfield</a></li><li class="tsd-kind-class"><a href="classes/Line.html" class="tsd-kind-icon">Line</a></li><li class="tsd-kind-class"><a href="classes/LinearSpring.html" class="tsd-kind-icon">Linear<wbr/>Spring</a></li><li class="tsd-kind-class"><a href="classes/LockConstraint.html" class="tsd-kind-icon">Lock<wbr/>Constraint</a></li><li class="tsd-kind-class"><a href="classes/Material.html" class="tsd-kind-icon">Material</a></li><li class="tsd-kind-class"><a href="classes/NaiveBroadphase.html" class="tsd-kind-icon">Naive<wbr/>Broadphase</a></li><li class="tsd-kind-class"><a href="classes/Narrowphase.html" class="tsd-kind-icon">Narrowphase</a></li><li class="tsd-kind-class"><a href="classes/Particle.html" class="tsd-kind-icon">Particle</a></li><li class="tsd-kind-class"><a href="classes/Plane.html" class="tsd-kind-icon">Plane</a></li><li class="tsd-kind-class tsd-has-type-parameter"><a href="classes/Pool.html" class="tsd-kind-icon">Pool</a></li><li class="tsd-kind-class"><a href="classes/PrismaticConstraint.html" class="tsd-kind-icon">Prismatic<wbr/>Constraint</a></li><li class="tsd-kind-class"><a href="classes/Ray.html" class="tsd-kind-icon">Ray</a></li><li class="tsd-kind-class"><a href="classes/RaycastResult.html" class="tsd-kind-icon">Raycast<wbr/>Result</a></li><li class="tsd-kind-class"><a href="classes/RevoluteConstraint.html" class="tsd-kind-icon">Revolute<wbr/>Constraint</a></li><li class="tsd-kind-class"><a href="classes/RotationalSpring.html" class="tsd-kind-icon">Rotational<wbr/>Spring</a></li><li class="tsd-kind-class"><a href="classes/RotationalVelocityEquation.html" class="tsd-kind-icon">Rotational<wbr/>Velocity<wbr/>Equation</a></li><li class="tsd-kind-class"><a href="classes/SAPBroadphase.html" class="tsd-kind-icon">SAPBroadphase</a></li><li class="tsd-kind-class"><a href="classes/Shape.html" class="tsd-kind-icon">Shape</a></li><li class="tsd-kind-class"><a href="classes/Solver.html" class="tsd-kind-icon">Solver</a></li><li class="tsd-kind-class"><a href="classes/Spring.html" class="tsd-kind-icon">Spring</a></li><li class="tsd-kind-class"><a href="classes/TopDownVehicle.html" class="tsd-kind-icon">Top<wbr/>Down<wbr/>Vehicle</a></li><li class="tsd-kind-class"><a href="classes/WheelConstraint.html" class="tsd-kind-icon">Wheel<wbr/>Constraint</a></li><li class="tsd-kind-class"><a href="classes/World.html" class="tsd-kind-icon">World</a></li><li class="tsd-kind-interface"><a href="interfaces/AngleLockEquationOptions.html" class="tsd-kind-icon">Angle<wbr/>Lock<wbr/>Equation<wbr/>Options</a></li><li class="tsd-kind-interface"><a href="interfaces/BodyOptions.html" class="tsd-kind-icon">Body<wbr/>Options</a></li><li class="tsd-kind-interface"><a href="interfaces/BoxOptions.html" class="tsd-kind-icon">Box<wbr/>Options</a></li><li class="tsd-kind-interface"><a href="interfaces/CapsuleOptions.html" class="tsd-kind-icon">Capsule<wbr/>Options</a></li><li class="tsd-kind-interface"><a href="interfaces/CircleOptions.html" class="tsd-kind-icon">Circle<wbr/>Options</a></li><li class="tsd-kind-interface"><a href="interfaces/ContactMaterialOptions.html" class="tsd-kind-icon">Contact<wbr/>Material<wbr/>Options</a></li><li class="tsd-kind-interface"><a href="interfaces/ConvexOptions.html" class="tsd-kind-icon">Convex<wbr/>Options</a></li><li class="tsd-kind-interface"><a href="interfaces/DistanceConstraintOptions.html" class="tsd-kind-icon">Distance<wbr/>Constraint<wbr/>Options</a></li><li class="tsd-kind-interface"><a href="interfaces/GSSolverOptions.html" class="tsd-kind-icon">GSSolver<wbr/>Options</a></li><li class="tsd-kind-interface"><a href="interfaces/GearConstraintOptions.html" class="tsd-kind-icon">Gear<wbr/>Constraint<wbr/>Options</a></li><li class="tsd-kind-interface"><a href="interfaces/HeightfieldOptions.html" class="tsd-kind-icon">Heightfield<wbr/>Options</a></li><li class="tsd-kind-interface"><a href="interfaces/LineOptions.html" class="tsd-kind-icon">Line<wbr/>Options</a></li><li class="tsd-kind-interface"><a href="interfaces/LinearSpringOptions.html" class="tsd-kind-icon">Linear<wbr/>Spring<wbr/>Options</a></li><li class="tsd-kind-interface"><a href="interfaces/LockConstraintOptions.html" class="tsd-kind-icon">Lock<wbr/>Constraint<wbr/>Options</a></li><li class="tsd-kind-interface"><a href="interfaces/PoolOptions.html" class="tsd-kind-icon">Pool<wbr/>Options</a></li><li class="tsd-kind-interface"><a href="interfaces/PrismaticConstraintOptions.html" class="tsd-kind-icon">Prismatic<wbr/>Constraint<wbr/>Options</a></li><li class="tsd-kind-interface"><a href="interfaces/RevoluteConstraintOptions.html" class="tsd-kind-icon">Revolute<wbr/>Constraint<wbr/>Options</a></li><li class="tsd-kind-interface"><a href="interfaces/RotationalSpringOptions.html" class="tsd-kind-icon">Rotational<wbr/>Spring<wbr/>Options</a></li><li class="tsd-kind-interface"><a href="interfaces/ShapeOptions.html" class="tsd-kind-icon">Shape<wbr/>Options</a></li><li class="tsd-kind-interface"><a href="interfaces/SharedShapeOptions.html" class="tsd-kind-icon">Shared<wbr/>Shape<wbr/>Options</a></li><li class="tsd-kind-interface"><a href="interfaces/SolverOptions.html" class="tsd-kind-icon">Solver<wbr/>Options</a></li><li class="tsd-kind-interface"><a href="interfaces/SpringOptions.html" class="tsd-kind-icon">Spring<wbr/>Options</a></li><li class="tsd-kind-interface"><a href="interfaces/WheelConstraintOptions.html" class="tsd-kind-icon">Wheel<wbr/>Constraint<wbr/>Options</a></li><li class="tsd-kind-interface"><a href="interfaces/WorldOptions.html" class="tsd-kind-icon">World<wbr/>Options</a></li><li class="tsd-kind-type-alias"><a href="modules.html#AABBOptions" class="tsd-kind-icon">AABBOptions</a></li><li class="tsd-kind-type-alias"><a href="modules.html#AddBodyEvent" class="tsd-kind-icon">Add<wbr/>Body<wbr/>Event</a></li><li class="tsd-kind-type-alias"><a href="modules.html#AddSpringEvent" class="tsd-kind-icon">Add<wbr/>Spring<wbr/>Event</a></li><li class="tsd-kind-type-alias"><a href="modules.html#BeginContactEvent" class="tsd-kind-icon">Begin<wbr/>Contact<wbr/>Event</a></li><li class="tsd-kind-type-alias"><a href="modules.html#BodyEventMap" class="tsd-kind-icon">Body<wbr/>Event<wbr/>Map</a></li><li class="tsd-kind-type-alias"><a href="modules.html#ConstraintOptions" class="tsd-kind-icon">Constraint<wbr/>Options</a></li><li class="tsd-kind-type-alias"><a href="modules.html#EndContactEvent" class="tsd-kind-icon">End<wbr/>Contact<wbr/>Event</a></li><li class="tsd-kind-type-alias"><a href="modules.html#ImpactEvent" class="tsd-kind-icon">Impact<wbr/>Event</a></li><li class="tsd-kind-type-alias"><a href="modules.html#PostBroadphaseEvent" class="tsd-kind-icon">Post<wbr/>Broadphase<wbr/>Event</a></li><li class="tsd-kind-type-alias"><a href="modules.html#PostStepEvent" class="tsd-kind-icon">Post<wbr/>Step<wbr/>Event</a></li><li class="tsd-kind-type-alias"><a href="modules.html#PreSolveEvent" class="tsd-kind-icon">Pre<wbr/>Solve<wbr/>Event</a></li><li class="tsd-kind-type-alias"><a href="modules.html#RayOptions" class="tsd-kind-icon">Ray<wbr/>Options</a></li><li class="tsd-kind-type-alias"><a href="modules.html#RemoveBodyEvent" class="tsd-kind-icon">Remove<wbr/>Body<wbr/>Event</a></li><li class="tsd-kind-type-alias"><a href="modules.html#SleepEvent" class="tsd-kind-icon">Sleep<wbr/>Event</a></li><li class="tsd-kind-type-alias"><a href="modules.html#SleepyEvent" class="tsd-kind-icon">Sleepy<wbr/>Event</a></li><li class="tsd-kind-type-alias"><a href="modules.html#Vec2" class="tsd-kind-icon">Vec2</a></li><li class="tsd-kind-type-alias"><a href="modules.html#WakeUpEvent" class="tsd-kind-icon">Wake<wbr/>Up<wbr/>Event</a></li><li class="tsd-kind-type-alias"><a href="modules.html#WorldEventMap" class="tsd-kind-icon">World<wbr/>Event<wbr/>Map</a></li></ul></nav></div></div></div><footer class=""><div class="container"><h2>Legend</h2><div class="tsd-legend-group"><ul class="tsd-legend"><li class="tsd-kind-constructor tsd-parent-kind-class"><span class="tsd-kind-icon">Constructor</span></li><li class="tsd-kind-property tsd-parent-kind-class"><span class="tsd-kind-icon">Property</span></li><li class="tsd-kind-method tsd-parent-kind-class"><span class="tsd-kind-icon">Method</span></li><li class="tsd-kind-accessor tsd-parent-kind-class"><span class="tsd-kind-icon">Accessor</span></li></ul><ul class="tsd-legend"><li class="tsd-kind-constructor tsd-parent-kind-class tsd-is-inherited"><span class="tsd-kind-icon">Inherited constructor</span></li><li class="tsd-kind-property tsd-parent-kind-class tsd-is-inherited"><span class="tsd-kind-icon">Inherited property</span></li><li class="tsd-kind-method tsd-parent-kind-class tsd-is-inherited"><span class="tsd-kind-icon">Inherited method</span></li></ul><ul class="tsd-legend"><li class="tsd-kind-property tsd-parent-kind-interface"><span class="tsd-kind-icon">Property</span></li><li class="tsd-kind-method tsd-parent-kind-interface"><span class="tsd-kind-icon">Method</span></li></ul><ul class="tsd-legend"><li class="tsd-kind-property tsd-parent-kind-class tsd-is-static"><span class="tsd-kind-icon">Static property</span></li><li class="tsd-kind-method tsd-parent-kind-class tsd-is-static"><span class="tsd-kind-icon">Static method</span></li></ul></div><h2>Settings</h2><p>Theme <select id="theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></p></div></footer><div class="overlay"></div><script src="assets/main.js"></script></body></html>